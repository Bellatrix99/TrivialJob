<script>
    //=== 如果在“计划的（scheduled）”代码中发生异常
    //=== 例如在 setTimeout 中，则 try..catch 不会捕获到异常
    // try {
    //     setTimeout(function () {
    //         noSuchVariable;
    //     }, 1000);
    // } catch (e) {
    //     alert("won't work");
    // }


    //=== 为了捕获到计划的（scheduled）函数中的异常
    //=== 那么 try..catch 必须在这个函数内
    // setTimeout(function() {
    //     try {
    //         noSuchVariable;
    //     } catch {
    //         alert("error is caught here!");
    //     }
    // },1000)


    //=== finally 的特殊情况 ================================
    function f() {
        try {
            alert('start');
            return "result";
        } catch (e) {
            /// ...
        } finally {
            alert('cleanup!');
        }
    }

    f(); //  cleanup!

    //=== 或者是当有 throw 时================================
    function f() {
        try {
            alert('start');
            throw new Error("an error");
        } catch(e) {
            // ...
            if("can't handle the error") {
                throw e;
            }
        } finally {
            alert('cleanup!');
        }
    }
    
    f();    // cleanup!
</script>