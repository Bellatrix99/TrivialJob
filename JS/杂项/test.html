<script>
    // let user = {
    //     name: "John"
    // };
    //
    // function wrap(target) {
    //     return new Proxy(target, {
    //         get(target, p, receiver) {
    //             if (p in target) {
    //                 return Reflect.get(...arguments);
    //             }else {
    //                 throw new ReferenceError(`Property doesn't exist: "${p}"`)
    //             }
    //         }
    //     });
    // }
    //
    // user = wrap(user);
    //
    // alert(user.name);
    // alert(user.age);


    // let array = [1, 2, 3];
    //
    // array = new Proxy(array, {
    //     get(target, p, receiver) {
    //         if (p < 0) {
    //             p = +p + target.length;
    //         }
    //         return Reflect.get(...arguments);
    //     }
    // });
    //
    // console.log(array[-1]);
    // console.log(array[-2]);
    // console.log(array[-3]);


    // function curry(f) {
    //     return function (a) {
    //         return function (b) {
    //             return f(a, b);
    //         };
    //     };
    // }
    //
    // function sum(a, b) {
    //     return a + b;
    // }
    //
    // let curriedSum = curry(sum);
    //
    // alert(curriedSum(1)(2));


    // function sum(a, b) {
    //     return a + b;
    // }
    //
    // let curriedSum = _.curry(sum); // 使用来自 lodash 库的 _.curry
    //
    // alert(curriedSum(1, 2)); // 3，仍可正常调用
    // alert(curriedSum(1)(2)); // 3，以偏函数的方式调用


    // function curry(func) {
    //     return function curried(...args) {
    //         if (args.length >= func.length) {
    //             return func.apply(this, args);
    //         } else {
    //             return function (...args2) {
    //                 return curried.apply(this, args.concat(args2));
    //             }
    //         }
    //     };
    // }
    //
    // function sum(a, b, c) {
    //     return a + b + c;
    // }
    //
    // let curriedSum = curry(sum);
    //
    // alert(curriedSum(1, 2, 3)); // 6，仍然可以被正常调用
    // alert(curriedSum(1)(2, 3)); // 6，对第一个参数的柯里化
    // alert(curriedSum(1)(2)(3)); // 6，全柯里化


    function curry(func) {
        return function curried(...args) {
            if (args.length >= func.length) {
                return func.apply(this,args);
            } else {
                return function pass(...args2) {
                    return curried.apply(this,args.concat(args2));
                }
            }
        };
    }
</script>